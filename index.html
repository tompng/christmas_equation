<style>body{margin:0;padding:0;}</style>
<script src="three.min.js"></script>
<script src="OrbitControls.js"></script>
<script src="polygonizer.js"></script>
<script src="renderer.js"></script>
<script src="donut.js"></script>
<script src="shell.js"></script>
<script src="christmas.js"></script>
<script src="math.js"></script>
<script src="sushi.js"></script>
<script src="perl_onion.js"></script>
<script src="applepen.js"></script>
<script src="jackolantern.js"></script>
<script src="takenoko.js"></script>
<script>
var renderer;
function show(args){
  document.body.innerHTML='';
  var resolution = parseInt(prompt('resolution(2^n)',64))||64;
  renderer=new Renderer();
  args.forEach(function(arg){
    renderer.add(arg[0], arg[1], resolution, arg[2]);
  })
}
</script>
<script>
// onload=()=>show([[function(x,y,z){
//   return Math.atan(
//     x*x+y*y+2*z*z+Math.exp(-10*(z+Math.pow(x*x+y*y,4)+0.5*(x*x+y*y)*Math.pow(1-x*x-y*y,2)*Math.sin(64*Math.atan2(y,x))))-1
//   )*((Math.pow(x-z*z/8,2)+Math.pow(y+z*z*(2+z)/6,2))*8+4*Math.pow(z+1/2,4)-2*Math.pow(z+1/2,2)-1)-0.1
// },2,'white']])
function rot(z,a,b){
  return Math.exp((
    z+a+Math.exp((z+a)/4)-a*Math.sqrt(4*b*b/(1+4*b*b))
  )/2-1)
}
function giza(a){return Math.atan((1-Math.pow(Math.sin(a),32))*Math.tan(a))-a}
onload=()=>show([[function(x,y,z){
  return (
    4-Math.sqrt(x*x+y*y+2*Math.pow(x*x+y*y,2))+
    (1-1/(1+x*x+y*y))*Math.max(
      giza(rot(z,x,y)),
      giza(rot(z,-x/2+y/1.73,x/1.73+y/2)-Math.PI/3)-Math.PI/3,
      giza(rot(z,-x/2-y/1.73,x/1.73-y/2)-Math.PI*2/3)-Math.PI*2/3,
    )/(2+2*Math.exp(-32*z-48-2*x))-Math.exp(-32*z-64)
    -z-Math.exp(-z/2)
  )
},4,'#ffc']])

</script>
<style>
a{margin:5px;padding:10px;border:1px solid gray;display:inline-block;border-radius:4px;cursor:pointer;}
a:hover{background:silver;}
</style>
<a onclick="show([[christmasFunc, 1.6, 'white']])">christmas</a>
<a onclick="show([[takenokoFunc, 8, '#eee']])">takenoko</a>
<a onclick="show([[shellFunc, 1.2, '#ffddee']])">shell</a>
<a onclick="show([[donutFunc, 3.6, '#ffe0a0'],[donutChocolateFunc, 3.6, '#804010'],[donutCreamFunc, 3.6, 'white']])">donut</a>
<a onclick="show([[sushiShariFunc, 2, 'white'],[sushiMaguroFunc,1.4,'#f20']])">sushi</a>
<a onclick="show([[perlOnionFunc, 2, '#458']])">perl</a>
<a onclick="show([[applepenFunc, 2, '#2A6']])">applepen</a>
<a onclick="show([[jackolanternPumpkinFunc, 2, '#FA0'],[jackolanternStemFunc, 2, '#982']])">jackolantern</a>
<a onclick="show([['sin(x^2+y-z)+sin(y^2+z-x)+sin(z^2+x-y)', 2, '#aaf']])">???</a>
<a onclick="show([['pow(sqrt(x*x*x*x/16 + y*y) - 1, 2) + z*z - 1/9', 4, '#9d4']])">number 0</a>
<a onclick="show([['pow(sqrt(pow(abs(x)-10/9, 2) + y*y) - 1, 8) + pow(z,8) - 1/pow(3,8)', 4, '#49d']])">number 8</a>
